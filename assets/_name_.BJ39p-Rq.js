import{_ as X}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{t as h,v as y,L as G,d as Y,M as Z,r as k,F as tt,x as w,N as L,O as U,P as d,y as C,Q as et,A as _t,R as E,S as $,T as nt,B as rt}from"./entry.CBgKcfSl.js";const st={},at={style:{"font-family":"'Twemoji Country Flags'"}};function it(r,t){return h(),y("span",at,[G(r.$slots,"default")])}const ot=X(st,[["render",it]]),ct=""+globalThis.__publicAssetsURL("avatar.svg"),lt=""+new URL("bridge_bg.zRwuXK5S.wasm",import.meta.url).href,dt=async(r={},t)=>{let e;if(t.startsWith("data:")){const _=t.replace(/^data:.*?base64,/,"");let s;if(typeof Buffer=="function"&&typeof Buffer.from=="function")s=Buffer.from(_,"base64");else if(typeof atob=="function"){const c=atob(_);s=new Uint8Array(c.length);for(let a=0;a<c.length;a++)s[a]=c.charCodeAt(a)}else throw new Error("Cannot decode base64-encoded data URL");e=await WebAssembly.instantiate(s,r)}else{const _=await fetch(t),s=_.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&s.startsWith("application/wasm"))e=await WebAssembly.instantiateStreaming(_,r);else{const c=await _.arrayBuffer();e=await WebAssembly.instantiate(c,r)}}return e.instance.exports};let n;function gt(r){n=r}const bt=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let q=new bt("utf-8",{ignoreBOM:!0,fatal:!0});q.decode();let B=null;function x(){return(B===null||B.byteLength===0)&&(B=new Uint8Array(n.memory.buffer)),B}function f(r,t){return r=r>>>0,q.decode(x().subarray(r,r+t))}const u=new Array(128).fill(void 0);u.push(void 0,null,!0,!1);let A=u.length;function M(r){A===u.length&&u.push(u.length+1);const t=A;return A=u[t],u[t]=r,t}function J(r){return u[r]}let l=0;const wt=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder;let z=new wt("utf-8");const ft=typeof z.encodeInto=="function"?function(r,t){return z.encodeInto(r,t)}:function(r,t){const e=z.encode(r);return t.set(e),{read:r.length,written:e.length}};function m(r,t,e){if(e===void 0){const g=z.encode(r),b=t(g.length,1)>>>0;return x().subarray(b,b+g.length).set(g),l=g.length,b}let _=r.length,s=t(_,1)>>>0;const c=x();let a=0;for(;a<_;a++){const g=r.charCodeAt(a);if(g>127)break;c[s+a]=g}if(a!==_){a!==0&&(r=r.slice(a)),s=e(s,_,_=a+r.length*3,1)>>>0;const g=x().subarray(s+a,s+_),b=ft(r,g);a+=b.written,s=e(s,_,a,1)>>>0}return l=a,s}function p(r){return r==null}let S=null;function o(){return(S===null||S.byteLength===0)&&(S=new Int32Array(n.memory.buffer)),S}function ut(r){r<132||(u[r]=A,A=r)}function R(r){const t=J(r);return ut(r),t}let W=null;function P(){return(W===null||W.byteLength===0)&&(W=new Uint32Array(n.memory.buffer)),W}function D(r,t){r=r>>>0;const _=P().subarray(r/4,r/4+t),s=[];for(let c=0;c<_.length;c++)s.push(R(_[c]));return s}function I(r,t){const e=t(r.length*4,4)>>>0,_=P();for(let s=0;s<r.length;s++)_[e/4+s]=M(r[s]);return l=r.length,e}function pt(r,t){return r=r>>>0,x().subarray(r/1,r/1+t)}function H(r,t){const e=t(r.length*1,1)>>>0;return x().set(r,e/1),l=r.length,e}function mt(r){try{const _=n.__wbindgen_add_to_stack_pointer(-16),s=H(r,n.__wbindgen_export_0),c=l;n.get_alias(_,s,c);var t=o()[_/4+0],e=o()[_/4+1];let a;return t!==0&&(a=f(t,e).slice(),n.__wbindgen_export_2(t,e*1,1)),a}finally{n.__wbindgen_add_to_stack_pointer(16)}}const N=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_artist_free(r>>>0));class T{static __wrap(t){t=t>>>0;const e=Object.create(T.prototype);return e.__wbg_ptr=t,N.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,N.unregister(this),t}free(){const t=this.__destroy_into_raw();n.__wbg_artist_free(t)}get flag(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_artist_flag(_,this.__wbg_ptr);var t=o()[_/4+0],e=o()[_/4+1];let s;return t!==0&&(s=f(t,e).slice(),n.__wbindgen_export_2(t,e*1,1)),s}finally{n.__wbindgen_add_to_stack_pointer(16)}}set flag(t){var e=p(t)?0:m(t,n.__wbindgen_export_0,n.__wbindgen_export_1),_=l;n.__wbg_set_artist_flag(this.__wbg_ptr,e,_)}get avatar(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_artist_avatar(_,this.__wbg_ptr);var t=o()[_/4+0],e=o()[_/4+1];let s;return t!==0&&(s=f(t,e).slice(),n.__wbindgen_export_2(t,e*1,1)),s}finally{n.__wbindgen_add_to_stack_pointer(16)}}set avatar(t){var e=p(t)?0:m(t,n.__wbindgen_export_0,n.__wbindgen_export_1),_=l;n.__wbg_set_artist_avatar(this.__wbg_ptr,e,_)}get name(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_artist_name(_,this.__wbg_ptr);var t=o()[_/4+0],e=o()[_/4+1];let s;return t!==0&&(s=f(t,e).slice(),n.__wbindgen_export_2(t,e*1,1)),s}finally{n.__wbindgen_add_to_stack_pointer(16)}}set name(t){var e=p(t)?0:m(t,n.__wbindgen_export_0,n.__wbindgen_export_1),_=l;n.__wbg_set_artist_name(this.__wbg_ptr,e,_)}get alias(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_artist_alias(_,this.__wbg_ptr);var t=o()[_/4+0],e=o()[_/4+1];let s;return t!==0&&(s=D(t,e).slice(),n.__wbindgen_export_2(t,e*4,4)),s}finally{n.__wbindgen_add_to_stack_pointer(16)}}set alias(t){var e=p(t)?0:I(t,n.__wbindgen_export_0),_=l;n.__wbg_set_artist_alias(this.__wbg_ptr,e,_)}get socials(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_artist_socials(_,this.__wbg_ptr);var t=o()[_/4+0],e=o()[_/4+1];let s;return t!==0&&(s=D(t,e).slice(),n.__wbindgen_export_2(t,e*4,4)),s}finally{n.__wbindgen_add_to_stack_pointer(16)}}set socials(t){var e=p(t)?0:I(t,n.__wbindgen_export_0),_=l;n.__wbg_set_artist_socials(this.__wbg_ptr,e,_)}to_bitcode(){try{const a=n.__wbindgen_add_to_stack_pointer(-16);n.artist_to_bitcode(a,this.__wbg_ptr);var t=o()[a/4+0],e=o()[a/4+1],_=o()[a/4+2],s=o()[a/4+3];if(s)throw R(_);var c=pt(t,e).slice();return n.__wbindgen_export_2(t,e*1,1),c}finally{n.__wbindgen_add_to_stack_pointer(16)}}static from_bitcode(t){const e=H(t,n.__wbindgen_export_0),_=l,s=n.artist_from_bitcode(e,_);return s===0?void 0:T.__wrap(s)}}const V=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_social_free(r>>>0));class j{static __wrap(t){t=t>>>0;const e=Object.create(j.prototype);return e.__wbg_ptr=t,V.register(e,e.__wbg_ptr,e),e}static __unwrap(t){return t instanceof j?t.__destroy_into_raw():0}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,V.unregister(this),t}free(){const t=this.__destroy_into_raw();n.__wbg_social_free(t)}get code(){let t,e;try{const c=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_social_code(c,this.__wbg_ptr);var _=o()[c/4+0],s=o()[c/4+1];return t=_,e=s,f(_,s)}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_export_2(t,e,1)}}set code(t){const e=m(t,n.__wbindgen_export_0,n.__wbindgen_export_1),_=l;n.__wbg_set_social_code(this.__wbg_ptr,e,_)}get name(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_artist_avatar(_,this.__wbg_ptr);var t=o()[_/4+0],e=o()[_/4+1];let s;return t!==0&&(s=f(t,e).slice(),n.__wbindgen_export_2(t,e*1,1)),s}finally{n.__wbindgen_add_to_stack_pointer(16)}}set name(t){var e=p(t)?0:m(t,n.__wbindgen_export_0,n.__wbindgen_export_1),_=l;n.__wbg_set_artist_avatar(this.__wbg_ptr,e,_)}get desc(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_artist_name(_,this.__wbg_ptr);var t=o()[_/4+0],e=o()[_/4+1];let s;return t!==0&&(s=f(t,e).slice(),n.__wbindgen_export_2(t,e*1,1)),s}finally{n.__wbindgen_add_to_stack_pointer(16)}}set desc(t){var e=p(t)?0:m(t,n.__wbindgen_export_0,n.__wbindgen_export_1),_=l;n.__wbg_set_artist_name(this.__wbg_ptr,e,_)}get link(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_social_link(_,this.__wbg_ptr);var t=o()[_/4+0],e=o()[_/4+1];let s;return t!==0&&(s=f(t,e).slice(),n.__wbindgen_export_2(t,e*1,1)),s}finally{n.__wbindgen_add_to_stack_pointer(16)}}set link(t){var e=p(t)?0:m(t,n.__wbindgen_export_0,n.__wbindgen_export_1),_=l;n.__wbg_set_social_link(this.__wbg_ptr,e,_)}}function vt(r){const t=j.__wrap(r);return M(t)}function ht(r){return j.__unwrap(R(r))}function yt(r,t){const e=f(r,t);return M(e)}function xt(r,t){throw new Error(f(r,t))}function kt(r,t){const e=J(t),_=typeof e=="string"?e:void 0;var s=p(_)?0:m(_,n.__wbindgen_export_0,n.__wbindgen_export_1),c=l;o()[r/4+1]=c,o()[r/4+0]=s}function At(r){R(r)}URL=globalThis.URL;const i=await dt({"./bridge_bg.js":{__wbg_social_new:vt,__wbg_social_unwrap:ht,__wbindgen_string_new:yt,__wbindgen_throw:xt,__wbindgen_string_get:kt,__wbindgen_object_drop_ref:At}},lt),Tt=i.memory,jt=i.__wbg_social_free,Ft=i.__wbg_get_social_code,Lt=i.__wbg_set_social_code,Ut=i.__wbg_get_social_link,Bt=i.__wbg_set_social_link,St=i.__wbg_artist_free,Wt=i.__wbg_get_artist_flag,zt=i.__wbg_set_artist_flag,Rt=i.__wbg_get_artist_avatar,Ct=i.__wbg_set_artist_avatar,Et=i.__wbg_get_artist_name,Mt=i.__wbg_set_artist_name,Ot=i.__wbg_get_artist_alias,$t=i.__wbg_set_artist_alias,Dt=i.__wbg_get_artist_socials,It=i.__wbg_set_artist_socials,Nt=i.artist_to_bitcode,Vt=i.artist_from_bitcode,qt=i.get_alias,Jt=i.__wbg_set_social_name,Pt=i.__wbg_set_social_desc,Ht=i.__wbg_get_social_name,Kt=i.__wbg_get_social_desc,Qt=i.__wbindgen_export_0,Xt=i.__wbindgen_export_1,Gt=i.__wbindgen_add_to_stack_pointer,Yt=i.__wbindgen_export_2,Zt=Object.freeze(Object.defineProperty({__proto__:null,__wbg_artist_free:St,__wbg_get_artist_alias:Ot,__wbg_get_artist_avatar:Rt,__wbg_get_artist_flag:Wt,__wbg_get_artist_name:Et,__wbg_get_artist_socials:Dt,__wbg_get_social_code:Ft,__wbg_get_social_desc:Kt,__wbg_get_social_link:Ut,__wbg_get_social_name:Ht,__wbg_set_artist_alias:$t,__wbg_set_artist_avatar:Ct,__wbg_set_artist_flag:zt,__wbg_set_artist_name:Mt,__wbg_set_artist_socials:It,__wbg_set_social_code:Lt,__wbg_set_social_desc:Pt,__wbg_set_social_link:Bt,__wbg_set_social_name:Jt,__wbg_social_free:jt,__wbindgen_add_to_stack_pointer:Gt,__wbindgen_export_0:Qt,__wbindgen_export_1:Xt,__wbindgen_export_2:Yt,artist_from_bitcode:Vt,artist_to_bitcode:Nt,get_alias:qt,memory:Tt},Symbol.toStringTag,{value:"Module"}));gt(Zt);const te={class:"fixed -z-10 h-[100vh] w-full scale-125 bg-black blur-2xl brightness-50"},ee=["src"],_e={src:ct,class:"fixed -z-10 size-full object-cover"},ne={key:0,class:"mx-auto max-w-96 py-12"},re={class:"flex w-full justify-center"},se=["src"],ae={class:"aspect-square w-full max-w-60 animate-pulse rounded-full bg-black shadow-2xl"},ie={class:"flex w-full flex-row items-center justify-center gap-3 py-7 text-center text-3xl font-bold text-white"},oe={class:"px-1rem flex w-full flex-col gap-3"},ce=["href"],le={key:1,class:"flex h-[100vh] flex-col items-center justify-center gap-5"},de=w("span",{class:"text-5xl"},"🤷",-1),ge=w("span",{class:"text-xl text-white/85"},"Artist not found in database",-1),be=[de,ge],ue=Y({__name:"[name]",setup(r){const t=Z(),e=k("loading"),_=k(""),s=k(void 0),c=k("");Array.isArray(t.params.name)?_.value=t.params.name[0].toLowerCase().trim():_.value=t.params.name.toLowerCase().trim(),(async()=>{try{const g=await fetch(`/artists/${_.value}`),b=new Uint8Array(await g.arrayBuffer()),F=T.from_bitcode(b);if(F!==void 0){s.value=F,e.value="loaded";return}const v=mt(b);if(v===void 0){e.value="error";return}const K=await fetch(`/artists/${v}`),Q=new Uint8Array(await K.arrayBuffer()),O=T.from_bitcode(Q);if(O!==void 0){s.value=O,e.value="loaded";return}e.value="error"}catch{e.value="error"}})().catch(()=>{e.value="error"}),tt(()=>{s.value!==void 0&&(c.value=s.value.avatar??"/avatar.svg"),document.title=`${s.value?.name??_.value} | Artist DB`});const a=k(!1);return(g,b)=>{const F=ot;return h(),y($,null,[w("div",te,[L(w("img",{src:d(c),class:"fixed -z-10 size-full object-cover"},null,8,ee),[[U,d(a)]]),L(w("img",_e,null,512),[[U,!d(a)]])]),d(e)==="loaded"?(h(),y("div",ne,[w("div",re,[L(w("img",{onLoad:b[0]||(b[0]=v=>a.value=!0),src:d(c),class:"aspect-square w-full max-w-60 rounded-full object-cover shadow-2xl"},null,40,se),[[U,d(a)]]),L(w("div",ae,null,512),[[U,!d(a)]])]),w("div",ie,[w("div",null,C(d(s)?.name??d(_)),1),d(s)?.flag!==void 0?(h(),et(F,{key:0},{default:_t(()=>[rt(C(d(s)?.flag),1)]),_:1})):E("",!0)]),w("div",oe,[(h(!0),y($,null,nt(d(s)?.socials,v=>(h(),y("a",{key:v.code,href:v.link,target:"_blank",class:"flex w-full justify-center border-4 border-solid border-white/20 px-6 py-3 text-lg text-white/60 transition-all hover:border-black hover:bg-black hover:font-bold hover:text-white"},C(v.desc),9,ce))),128))])])):E("",!0),d(e)==="error"?(h(),y("div",le,be)):E("",!0)],64)}}});export{ue as default};
