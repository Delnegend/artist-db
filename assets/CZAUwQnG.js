import{L,d as j,M as z,r as c,F as C,t as f,v as _,x as a,N as p,O as m,P as s,y,Q as k,R as A,S as g,T as P,C as $,D as B}from"./B241MKQC.js";import{_ as D}from"./DlAUqK2U.js";async function I(t){try{const o=await fetch(`/artists/${t}`);if(!o.ok)return new Promise((r,n)=>n("error"));const e=await o.text();return e.startsWith("<")?new Promise((r,n)=>n("error")):e.startsWith("@")?await(await fetch(`/artists/${e.slice(1)}`)).text():new Promise(r=>r(e))}catch{return new Promise((o,e)=>e("error"))}}function W(t){return t.startsWith("_")?"/avatar.svg":t.startsWith("/")?t:`https://unavatar.io/${t}?size=400&fallback=https://artistdb.delnegend.com/avatar.svg`}const N=L("/avatar.svg"),S=t=>($("data-v-ebe1851d"),t=t(),B(),t),F={class:"fixed -z-10 h-screen w-full scale-125 bg-black blur-2xl brightness-50"},R=["src"],q={src:N,class:"fixed -z-10 size-full object-cover"},E={key:0,class:"mx-auto py-12"},T={class:"flex w-full justify-center"},U=["src"],V={class:"aspect-square w-full max-w-60 animate-pulse rounded-full bg-black shadow-2xl"},M={class:"display-name flex w-full flex-row items-center justify-center gap-3 py-7 text-center text-5xl font-bold text-white"},O={class:"px-1rem flex max-w-96 mx-auto w-full flex-col gap-3"},Q=["href"],G={key:1,class:"flex h-screen flex-col items-center justify-center gap-5"},H=S(()=>a("span",{class:"text-5xl"},"ðŸ¤·",-1)),J=S(()=>a("span",{class:"text-3xl text-white/85"},"Artist not found in database",-1)),K=[H,J],X=j({__name:"[name]",setup(t){const o=z(),e=c("loading"),r=c("");Array.isArray(o.params.name)?r.value=o.params.name[0].toLowerCase().trim():r.value=o.params.name.toLowerCase().trim();const n=c(""),h=c(""),v=c(""),w=c([]);I(r.value).then(i=>{if(i===""){e.value="error";return}e.value="loaded",n.value=i}).catch(()=>{e.value="error"}),C(()=>{if(e.value==="error"||n.value===""){document.title="ArtistDB";return}const i=n.value.split(`
`),d=i[0].split(",");h.value=d[0],document.title=`${h.value} | ArtistDB`,v.value=W(d[1]),w.value=i.slice(1).map(l=>{const[x,b]=l.split(",");return x.startsWith("*")?{isSpecial:!0,link:x.slice(1),desc:b}:{isSpecial:!1,link:x,desc:b}})});const u=c(!1);return(i,d)=>(f(),_(k,null,[a("div",F,[p(a("img",{src:s(v),class:"fixed -z-10 size-full object-cover"},null,8,R),[[m,s(u)]]),p(a("img",q,null,512),[[m,!s(u)]])]),s(e)==="loaded"?(f(),_("div",E,[a("div",T,[p(a("img",{onLoad:d[0]||(d[0]=l=>u.value=!0),src:s(v),class:"aspect-square w-full max-w-60 rounded-full object-cover shadow-2xl"},null,40,U),[[m,s(u)]]),p(a("div",V,null,512),[[m,!s(u)]])]),a("div",M,y(s(h)),1),a("div",O,[(f(!0),_(k,null,A(s(w),l=>(f(),_("a",{key:l.link,href:`https:${l.link}`,target:"_blank",class:P(["both flex w-full justify-center px-6 py-3 text-xl hover:font-bold",l.isSpecial===!0?"special-link":"normal-link"])},y(l.desc),11,Q))),128))])])):g("",!0),s(e)==="error"?(f(),_("div",G,K)):g("",!0)],64))}}),ee=D(X,[["__scopeId","data-v-ebe1851d"]]);export{ee as default};
