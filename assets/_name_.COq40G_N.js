import{_ as Q}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{t as v,v as y,L as X,d as G,M as Y,r as k,F as Z,x as b,N as U,O as S,P as d,y as z,Q as tt,A as et,R as E,S as O,T as _t,B as nt}from"./entry.DmXz0_oz.js";const rt={},st={style:{"font-family":'"Twemoji Country Flags"'}};function at(r,t){return v(),y("span",st,[X(r.$slots,"default")])}const it=Q(rt,[["render",at]]),V=""+globalThis.__publicAssetsURL("avatar.svg"),ot=""+new URL("bridge_bg.zRwuXK5S.wasm",import.meta.url).href,ct=async(r={},t)=>{let e;if(t.startsWith("data:")){const _=t.replace(/^data:.*?base64,/,"");let s;if(typeof Buffer=="function"&&typeof Buffer.from=="function")s=Buffer.from(_,"base64");else if(typeof atob=="function"){const c=atob(_);s=new Uint8Array(c.length);for(let a=0;a<c.length;a++)s[a]=c.charCodeAt(a)}else throw new Error("Cannot decode base64-encoded data URL");e=await WebAssembly.instantiate(s,r)}else{const _=await fetch(t),s=_.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&s.startsWith("application/wasm"))e=await WebAssembly.instantiateStreaming(_,r);else{const c=await _.arrayBuffer();e=await WebAssembly.instantiate(c,r)}}return e.instance.exports};let n;function lt(r){n=r}const dt=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let q=new dt("utf-8",{ignoreBOM:!0,fatal:!0});q.decode();let F=null;function x(){return(F===null||F.byteLength===0)&&(F=new Uint8Array(n.memory.buffer)),F}function f(r,t){return r=r>>>0,q.decode(x().subarray(r,r+t))}const u=new Array(128).fill(void 0);u.push(void 0,null,!0,!1);let A=u.length;function M(r){A===u.length&&u.push(u.length+1);const t=A;return A=u[t],u[t]=r,t}function J(r){return u[r]}let l=0;const gt=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder;let R=new gt("utf-8");const wt=typeof R.encodeInto=="function"?function(r,t){return R.encodeInto(r,t)}:function(r,t){const e=R.encode(r);return t.set(e),{read:r.length,written:e.length}};function m(r,t,e){if(e===void 0){const g=R.encode(r),w=t(g.length,1)>>>0;return x().subarray(w,w+g.length).set(g),l=g.length,w}let _=r.length,s=t(_,1)>>>0;const c=x();let a=0;for(;a<_;a++){const g=r.charCodeAt(a);if(g>127)break;c[s+a]=g}if(a!==_){a!==0&&(r=r.slice(a)),s=e(s,_,_=a+r.length*3,1)>>>0;const g=x().subarray(s+a,s+_),w=wt(r,g);a+=w.written,s=e(s,_,a,1)>>>0}return l=a,s}function p(r){return r==null}let W=null;function o(){return(W===null||W.byteLength===0)&&(W=new Int32Array(n.memory.buffer)),W}function bt(r){r<132||(u[r]=A,A=r)}function C(r){const t=J(r);return bt(r),t}let B=null;function P(){return(B===null||B.byteLength===0)&&(B=new Uint32Array(n.memory.buffer)),B}function $(r,t){r=r>>>0;const _=P().subarray(r/4,r/4+t),s=[];for(let c=0;c<_.length;c++)s.push(C(_[c]));return s}function D(r,t){const e=t(r.length*4,4)>>>0,_=P();for(let s=0;s<r.length;s++)_[e/4+s]=M(r[s]);return l=r.length,e}function ft(r,t){return r=r>>>0,x().subarray(r/1,r/1+t)}function H(r,t){const e=t(r.length*1,1)>>>0;return x().set(r,e/1),l=r.length,e}function ut(r){try{const _=n.__wbindgen_add_to_stack_pointer(-16),s=H(r,n.__wbindgen_export_0),c=l;n.get_alias(_,s,c);var t=o()[_/4+0],e=o()[_/4+1];let a;return t!==0&&(a=f(t,e).slice(),n.__wbindgen_export_2(t,e*1,1)),a}finally{n.__wbindgen_add_to_stack_pointer(16)}}const I=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_artist_free(r>>>0));class j{static __wrap(t){t=t>>>0;const e=Object.create(j.prototype);return e.__wbg_ptr=t,I.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,I.unregister(this),t}free(){const t=this.__destroy_into_raw();n.__wbg_artist_free(t)}get flag(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_artist_flag(_,this.__wbg_ptr);var t=o()[_/4+0],e=o()[_/4+1];let s;return t!==0&&(s=f(t,e).slice(),n.__wbindgen_export_2(t,e*1,1)),s}finally{n.__wbindgen_add_to_stack_pointer(16)}}set flag(t){var e=p(t)?0:m(t,n.__wbindgen_export_0,n.__wbindgen_export_1),_=l;n.__wbg_set_artist_flag(this.__wbg_ptr,e,_)}get avatar(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_artist_avatar(_,this.__wbg_ptr);var t=o()[_/4+0],e=o()[_/4+1];let s;return t!==0&&(s=f(t,e).slice(),n.__wbindgen_export_2(t,e*1,1)),s}finally{n.__wbindgen_add_to_stack_pointer(16)}}set avatar(t){var e=p(t)?0:m(t,n.__wbindgen_export_0,n.__wbindgen_export_1),_=l;n.__wbg_set_artist_avatar(this.__wbg_ptr,e,_)}get name(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_artist_name(_,this.__wbg_ptr);var t=o()[_/4+0],e=o()[_/4+1];let s;return t!==0&&(s=f(t,e).slice(),n.__wbindgen_export_2(t,e*1,1)),s}finally{n.__wbindgen_add_to_stack_pointer(16)}}set name(t){var e=p(t)?0:m(t,n.__wbindgen_export_0,n.__wbindgen_export_1),_=l;n.__wbg_set_artist_name(this.__wbg_ptr,e,_)}get alias(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_artist_alias(_,this.__wbg_ptr);var t=o()[_/4+0],e=o()[_/4+1];let s;return t!==0&&(s=$(t,e).slice(),n.__wbindgen_export_2(t,e*4,4)),s}finally{n.__wbindgen_add_to_stack_pointer(16)}}set alias(t){var e=p(t)?0:D(t,n.__wbindgen_export_0),_=l;n.__wbg_set_artist_alias(this.__wbg_ptr,e,_)}get socials(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_artist_socials(_,this.__wbg_ptr);var t=o()[_/4+0],e=o()[_/4+1];let s;return t!==0&&(s=$(t,e).slice(),n.__wbindgen_export_2(t,e*4,4)),s}finally{n.__wbindgen_add_to_stack_pointer(16)}}set socials(t){var e=p(t)?0:D(t,n.__wbindgen_export_0),_=l;n.__wbg_set_artist_socials(this.__wbg_ptr,e,_)}to_bitcode(){try{const a=n.__wbindgen_add_to_stack_pointer(-16);n.artist_to_bitcode(a,this.__wbg_ptr);var t=o()[a/4+0],e=o()[a/4+1],_=o()[a/4+2],s=o()[a/4+3];if(s)throw C(_);var c=ft(t,e).slice();return n.__wbindgen_export_2(t,e*1,1),c}finally{n.__wbindgen_add_to_stack_pointer(16)}}static from_bitcode(t){const e=H(t,n.__wbindgen_export_0),_=l,s=n.artist_from_bitcode(e,_);return s===0?void 0:j.__wrap(s)}}const N=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_social_free(r>>>0));class T{static __wrap(t){t=t>>>0;const e=Object.create(T.prototype);return e.__wbg_ptr=t,N.register(e,e.__wbg_ptr,e),e}static __unwrap(t){return t instanceof T?t.__destroy_into_raw():0}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,N.unregister(this),t}free(){const t=this.__destroy_into_raw();n.__wbg_social_free(t)}get code(){let t,e;try{const c=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_social_code(c,this.__wbg_ptr);var _=o()[c/4+0],s=o()[c/4+1];return t=_,e=s,f(_,s)}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_export_2(t,e,1)}}set code(t){const e=m(t,n.__wbindgen_export_0,n.__wbindgen_export_1),_=l;n.__wbg_set_social_code(this.__wbg_ptr,e,_)}get name(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_artist_avatar(_,this.__wbg_ptr);var t=o()[_/4+0],e=o()[_/4+1];let s;return t!==0&&(s=f(t,e).slice(),n.__wbindgen_export_2(t,e*1,1)),s}finally{n.__wbindgen_add_to_stack_pointer(16)}}set name(t){var e=p(t)?0:m(t,n.__wbindgen_export_0,n.__wbindgen_export_1),_=l;n.__wbg_set_artist_avatar(this.__wbg_ptr,e,_)}get desc(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_artist_name(_,this.__wbg_ptr);var t=o()[_/4+0],e=o()[_/4+1];let s;return t!==0&&(s=f(t,e).slice(),n.__wbindgen_export_2(t,e*1,1)),s}finally{n.__wbindgen_add_to_stack_pointer(16)}}set desc(t){var e=p(t)?0:m(t,n.__wbindgen_export_0,n.__wbindgen_export_1),_=l;n.__wbg_set_artist_name(this.__wbg_ptr,e,_)}get link(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_social_link(_,this.__wbg_ptr);var t=o()[_/4+0],e=o()[_/4+1];let s;return t!==0&&(s=f(t,e).slice(),n.__wbindgen_export_2(t,e*1,1)),s}finally{n.__wbindgen_add_to_stack_pointer(16)}}set link(t){var e=p(t)?0:m(t,n.__wbindgen_export_0,n.__wbindgen_export_1),_=l;n.__wbg_set_social_link(this.__wbg_ptr,e,_)}}function pt(r){const t=T.__wrap(r);return M(t)}function mt(r){return T.__unwrap(C(r))}function vt(r,t){const e=f(r,t);return M(e)}function ht(r,t){throw new Error(f(r,t))}function yt(r,t){const e=J(t),_=typeof e=="string"?e:void 0;var s=p(_)?0:m(_,n.__wbindgen_export_0,n.__wbindgen_export_1),c=l;o()[r/4+1]=c,o()[r/4+0]=s}function xt(r){C(r)}URL=globalThis.URL;const i=await ct({"./bridge_bg.js":{__wbg_social_new:pt,__wbg_social_unwrap:mt,__wbindgen_string_new:vt,__wbindgen_throw:ht,__wbindgen_string_get:yt,__wbindgen_object_drop_ref:xt}},ot),kt=i.memory,At=i.__wbg_social_free,jt=i.__wbg_get_social_code,Tt=i.__wbg_set_social_code,Lt=i.__wbg_get_social_link,Ut=i.__wbg_set_social_link,St=i.__wbg_artist_free,Ft=i.__wbg_get_artist_flag,Wt=i.__wbg_set_artist_flag,Bt=i.__wbg_get_artist_avatar,Rt=i.__wbg_set_artist_avatar,Ct=i.__wbg_get_artist_name,zt=i.__wbg_set_artist_name,Et=i.__wbg_get_artist_alias,Mt=i.__wbg_set_artist_alias,Ot=i.__wbg_get_artist_socials,$t=i.__wbg_set_artist_socials,Dt=i.artist_to_bitcode,It=i.artist_from_bitcode,Nt=i.get_alias,Vt=i.__wbg_set_social_name,qt=i.__wbg_set_social_desc,Jt=i.__wbg_get_social_name,Pt=i.__wbg_get_social_desc,Ht=i.__wbindgen_export_0,Kt=i.__wbindgen_export_1,Qt=i.__wbindgen_add_to_stack_pointer,Xt=i.__wbindgen_export_2,Gt=Object.freeze(Object.defineProperty({__proto__:null,__wbg_artist_free:St,__wbg_get_artist_alias:Et,__wbg_get_artist_avatar:Bt,__wbg_get_artist_flag:Ft,__wbg_get_artist_name:Ct,__wbg_get_artist_socials:Ot,__wbg_get_social_code:jt,__wbg_get_social_desc:Pt,__wbg_get_social_link:Lt,__wbg_get_social_name:Jt,__wbg_set_artist_alias:Mt,__wbg_set_artist_avatar:Rt,__wbg_set_artist_flag:Wt,__wbg_set_artist_name:zt,__wbg_set_artist_socials:$t,__wbg_set_social_code:Tt,__wbg_set_social_desc:qt,__wbg_set_social_link:Ut,__wbg_set_social_name:Vt,__wbg_social_free:At,__wbindgen_add_to_stack_pointer:Qt,__wbindgen_export_0:Ht,__wbindgen_export_1:Kt,__wbindgen_export_2:Xt,artist_from_bitcode:It,artist_to_bitcode:Dt,get_alias:Nt,memory:kt},Symbol.toStringTag,{value:"Module"}));lt(Gt);const Yt={class:"fixed -z-10 h-[100vh] w-full scale-125 bg-black blur-2xl brightness-50"},Zt=["src"],te={src:V,class:"fixed -z-10 w-full h-full object-cover"},ee={key:0,class:"mx-auto max-w-96 py-12"},_e={class:"flex w-full justify-center"},ne=["src"],re={src:V,class:"animate-pulse aspect-square w-full max-w-60 rounded-full object-cover shadow-2xl"},se={class:"flex w-full flex-row items-center justify-center gap-3 py-7 text-center text-3xl font-bold text-white"},ae={class:"px-1rem flex w-full flex-col gap-3"},ie=["href"],oe={key:1,class:"flex h-[100vh] flex-col items-center justify-center gap-5"},ce=b("span",{class:"text-5xl"},"🤷",-1),le=b("span",{class:"text-xl text-white/85"},"Artist not found in database",-1),de=[ce,le],be=G({__name:"[name]",setup(r){const t=Y(),e=k("loading"),_=k(""),s=k(void 0),c=k("");Array.isArray(t.params.name)?_.value=t.params.name[0].toLowerCase().trim():_.value=t.params.name.toLowerCase().trim(),(async()=>{try{const g=await fetch(`/artists/${_.value}`),w=new Uint8Array(await g.arrayBuffer());if(s.value=j.from_bitcode(w),s.value!==void 0){e.value="loaded";return}const L=ut(w);if(L===void 0){e.value="error";return}const h=await fetch(`/artists/${L}`),K=new Uint8Array(await h.arrayBuffer());if(s.value=j.from_bitcode(K),s.value!==void 0){e.value="loaded";return}e.value="error"}catch{e.value="error"}})(),Z(()=>{s.value!==void 0&&(c.value=s.value.avatar??"/avatar.svg"),document.title=`${s?.value?.name??_.value} | Artist DB`});const a=k(!1);return(g,w)=>{const L=it;return v(),y(O,null,[b("div",Yt,[U(b("img",{src:d(c),class:"fixed -z-10 w-full h-full object-cover"},null,8,Zt),[[S,d(a)]]),U(b("img",te,null,512),[[S,!d(a)]])]),d(e)==="loaded"?(v(),y("div",ee,[b("div",_e,[U(b("img",{onLoad:w[0]||(w[0]=h=>a.value=!0),src:d(c),class:"aspect-square w-full max-w-60 rounded-full object-cover shadow-2xl"},null,40,ne),[[S,d(a)]]),U(b("img",re,null,512),[[S,!d(a)]])]),b("div",se,[b("div",null,z(d(s)?.name??d(_)),1),d(s)?.flag!==void 0?(v(),tt(L,{key:0},{default:et(()=>[nt(z(d(s)?.flag),1)]),_:1})):E("",!0)]),b("div",ae,[(v(!0),y(O,null,_t(d(s)?.socials,h=>(v(),y("a",{key:h.code,href:h.link,target:"_blank",class:"flex w-full justify-center border-4 border-solid border-black px-6 py-3 text-lg text-white/60 transition-colors hover:bg-black hover:text-white"},z(h.desc),9,ie))),128))])])):E("",!0),d(e)==="error"?(v(),y("div",oe,de)):E("",!0)],64)}}});export{be as default};
